(this.webpackJsonpbooks=this.webpackJsonpbooks||[]).push([[0],{14:function(e,t,n){e.exports={container:"ResultData_container__16BxN",book:"ResultData_book__108_D",buttonMore:"ResultData_buttonMore__2kpMW"}},17:function(e,t,n){e.exports={container:"SearchingPanel_container__1j8E-",inputButton:"SearchingPanel_inputButton__2Kv-u",selectors:"SearchingPanel_selectors__3QKTg"}},26:function(e,t,n){e.exports={main:"App_main__2fbUn",container:"App_container__2uMlN",text:"App_text__2fQlz"}},27:function(e,t,n){e.exports={container:"CurrentBook_container__2awhx",commonInformation:"CurrentBook_commonInformation__acRdy"}},43:function(e,t,n){},44:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),r=n(18),a=n.n(r),s=(n(43),n(28)),i=(n(44),n(11)),l=n(10),u=n(37),j=n.n(u).a.create({baseURL:"https://www.googleapis.com/books/v1/volumes"}),b="AIzaSyBWuBhjJtUnVatCbFE2UubnjscgmoYY40U",d=function(e,t){return j.get("?q=".concat(e,"&").concat(b,"&maxResults=30&startIndex=").concat(t))},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return j.get("?q=".concat(e,"&").concat(t,"&").concat(b,"&maxResults=30&startIndex=").concat(n))},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return j.get("?q=subject:".concat(e,"&").concat(b,"&maxResults=30&startIndex=").concat(t))},p=function(e,t){return j.get("?q=subject:".concat(e,"&").concat(b,"&maxResults=30&startIndex=").concat(t))},h={items:[],kind:"",totalItems:0,searchTitle:"",error:!1,searchIsFailed:!1,isLoading:!1},x=function(e){return{type:"App-reducer/sortError",error:e}},f=function(e){return{type:"App-reducer/searchIsFailed",inputError:e}},v=function(e){return{type:"App-reducer/isLoading",isLoading:e}},g=function(e){return function(t){t(v(!0));var n=e;"all"===e&&(n=""),O(n).then((function(e){var n,c;t((n=e.data.items,c=e.data.totalItems,{type:"App-reducer/sortingByCategoriesBooks",booksData:n,totalItems:c})),t(v(!1))})),t(x(!1)),t(f(!1))}},I=n(6),k=n(17),B=n.n(k),y=n.p+"static/media/background.118e95f4.jpg",_=n(3),A=n(1),E=function(e){var t={backgroundImage:"url(".concat(y,")")},n=e.nameBook,c=e.setNameBook,o=e.setSelect,r=Object(_.g)(),a=Object(I.b)(),s=Object(I.c)((function(e){return e.app.error})),i=Object(I.c)((function(e){return e.app.searchIsFailed})),l=function(){var e;a((e=n,function(t,n){t(v(!0));var c=n().app.searchTitle,o=n().app.items.length;c!==e&&(o=0),d(e,o).then((function(n){t({type:"App-reducer/searchBooks",booksData:n.data.items,totalItems:n.data.totalItems,searchTitle:e}),t(x(!1)),t(v(!1))})).catch((function(){t(f(!0)),t(x(!1)),t(v(!1))}))})),r.push("/books")};return Object(A.jsxs)("div",{className:B.a.container,style:t,children:[Object(A.jsx)("h1",{children:"Search for books"}),Object(A.jsxs)("div",{className:B.a.inputButton,children:[Object(A.jsx)("input",{onChange:function(e){c(e.currentTarget.value)},value:n,onKeyPress:function(e){"Enter"===e.key&&l()},type:"text"}),Object(A.jsx)("button",{onClick:l,children:"SEARCH"})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("b",{children:"Categories"}),Object(A.jsxs)("select",{onChange:function(e){c("");var t=e.currentTarget.value;o(t),a(g(t))},className:B.a.selectors,children:[Object(A.jsx)("option",{value:"all",children:"all"}),Object(A.jsx)("option",{value:"art",children:"art"}),Object(A.jsx)("option",{value:"biography",children:"biography"}),Object(A.jsx)("option",{value:"computers",children:"computers"}),Object(A.jsx)("option",{value:"history",children:"history"}),Object(A.jsx)("option",{value:"medical",children:"medical"}),Object(A.jsx)("option",{value:"poetry",children:"poetry"})]}),Object(A.jsx)("b",{children:"Sorting by"}),Object(A.jsxs)("select",{onChange:function(e){var t=e.currentTarget.value;a(function(e,t){return function(n){n(v(!0));var c="";"relevance"===t&&(c="&orderBy=relevance"),"newest"===t&&(c="&orderBy=newest"),m(e,c).then((function(e){n({type:"App-reducer/sortingByOrderBooks",booksData:e.data.items,totalItems:e.data.totalItems}),n(x(!1)),n(v(!1))})).catch((function(){n(x(!0)),n(v(!1))})),n(f(!1))}}(n,t))},onBlur:function(){a(x(!1))},className:B.a.selectors,children:[Object(A.jsx)("option",{value:"relevance",children:"relevance"}),Object(A.jsx)("option",{value:"newest",children:"newest"})]}),s&&Object(A.jsx)("div",{children:Object(A.jsx)("b",{style:{color:"red"},children:"PLEASE ENTER THE TITLE OF THE BOOK"})}),i&&Object(A.jsx)("div",{children:Object(A.jsx)("b",{style:{color:"red"},children:"PLEASE ENTER THE CORRECT BOOK OR BOOK IS NOT FOUND"})})]})]})},T=n(14),N=n.n(T),C=n.p+"static/media/book.2497b731.jpg",D=n(12),S=n.p+"static/media/preloader.b5920b96.gif";function L(){return Object(A.jsx)("div",{children:Object(A.jsx)("img",{src:S,alt:""})})}var R=function(e){var t=e.nameBook,n=e.select,o=Object(I.c)((function(e){return e.app.items})),r=Object(I.c)((function(e){return e.app.totalItems})),a=Object(I.c)((function(e){return e.app.isLoading})),s=Object(I.b)(),i=o.map((function(e){return Object(A.jsxs)("div",{className:N.a.book,children:[Object(A.jsx)(D.b,{to:"/books/".concat(e.id),children:Object(A.jsx)("img",{src:e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.smallThumbnail:C,alt:"img"})}),Object(A.jsxs)("div",{className:N.a.text,children:[Object(A.jsx)("div",{children:e.volumeInfo.title?Object(A.jsxs)("div",{children:[Object(A.jsx)("b",{children:"Title: "}),e.volumeInfo.title]}):""}),Object(A.jsx)("div",{children:e.volumeInfo.authors?Object(A.jsxs)("div",{children:[Object(A.jsx)("b",{children:"Authors: "}),e.volumeInfo.authors]}):""}),Object(A.jsx)("div",{children:e.volumeInfo.categories?Object(A.jsxs)("div",{children:[Object(A.jsx)("b",{children:"Categories: "}),e.volumeInfo.categories[0]]}):""})]})]},e.id)}));return Object(c.useEffect)((function(){s(g("all"))}),[s]),a?Object(A.jsx)(L,{}):Object(A.jsxs)("div",{className:N.a.main,children:[0===r?"":"Found ".concat(r," results"),Object(A.jsx)("div",{className:N.a.container,children:i}),0===r?"":Object(A.jsx)("button",{className:N.a.buttonMore,onClick:function(){var e;s(""===t?function(e){return function(t,n){var c=n().app.items.length;p(e,c).then((function(e){t({type:"App-reducer/addBooksByCategories",booksData:e.data.items,totalItems:e.data.totalItems})})),t(x(!1)),t(f(!1))}}(n):(e=t,function(t,n){var c=n().app.items.length;d(e,c).then((function(e){t({type:"App-reducer/addBooks",booksData:e.data.items,totalItems:e.data.totalItems})})).catch((function(){t(f(!0)),t(x(!1))}))}))},children:"load more"})]})},F=n(26),w=n.n(F),P=n(27),U=n.n(P),K=function(){var e=Object(_.h)().bookId,t=Object(I.c)((function(e){return e.app.items})).find((function(t){return t.id===e})),n=t&&t.volumeInfo.imageLinks?t.volumeInfo.imageLinks.thumbnail:C;return t?Object(A.jsxs)("div",{className:U.a.container,children:[Object(A.jsx)("img",{src:n,alt:""}),Object(A.jsxs)("div",{className:U.a.commonInformation,children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("b",{children:"Title: "}),t.volumeInfo.title?t.volumeInfo.title:""]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("b",{children:"All categories: "}),t.volumeInfo.categories?t.volumeInfo.categories:""]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("b",{children:"Authors: "}),t.volumeInfo.authors?t.volumeInfo.authors:""]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("b",{children:"Descriptions: "}),t.volumeInfo.description?t.volumeInfo.description:""]})]})]}):Object(A.jsx)(_.a,{to:"*"})};var M=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],o=t[1],r=Object(c.useState)(""),a=Object(s.a)(r,2),i=a[0],l=a[1];return Object(A.jsx)("div",{className:w.a.main,children:Object(A.jsxs)("div",{className:w.a.container,children:[Object(A.jsx)(E,{nameBook:n,setNameBook:o,setSelect:l}),Object(A.jsxs)(_.d,{children:[Object(A.jsx)(_.b,{exact:!0,path:"/",render:function(){return Object(A.jsx)(_.a,{to:"/books"})}}),Object(A.jsx)(_.b,{exact:!0,path:"/searchBooks",render:function(){return Object(A.jsx)(_.a,{to:"/books"})}}),Object(A.jsx)(_.b,{exact:!0,path:"/books",render:function(){return Object(A.jsx)(R,{select:i,nameBook:n})}}),Object(A.jsx)(_.b,{exact:!0,path:"/books/:bookId",render:function(){return Object(A.jsx)(K,{})}}),Object(A.jsx)(_.b,{exact:!0,path:"*",render:function(){return Object(A.jsx)("div",{style:{textAlign:"center",fontSize:"80px"},children:"404: PAGE IS NOT FOUND"})}})]})]})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,70)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),r(e),a(e)}))},H=n(21),z=n(38),J=Object(H.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,n=function(e){var t=[];return e.items.filter((function(e){return t.findIndex((function(t){return t.id===e.id}))<=-1&&t.push(e),null})),t};switch(t.type){case"App-reducer/addBooks":var c=Object(l.a)({},e);return c.items=[].concat(Object(i.a)(c.items),Object(i.a)(t.booksData)),c.items=n(c),c.totalItems=t.totalItems,console.log(c),c;case"App-reducer/addBooksByCategories":var o=Object(l.a)({},e);return o.items=[].concat(Object(i.a)(o.items),Object(i.a)(t.booksData)),o.items=n(o),o.totalItems=t.totalItems,o;case"App-reducer/searchBooks":var r=Object(l.a)({},e);return r.items=Object(i.a)(t.booksData),r.items=n(r),r.totalItems=t.totalItems,r.searchTitle=t.searchTitle,r;case"App-reducer/sortingByOrderBooks":var a=Object(l.a)({},e);return a.items=Object(i.a)(t.booksData),a.totalItems=t.totalItems,a.items=n(a),a;case"App-reducer/sortingByCategoriesBooks":var s=Object(l.a)({},e);return s.items=Object(i.a)(t.booksData),s.totalItems=t.totalItems,s.items=n(s),s;case"App-reducer/sortError":return Object(l.a)(Object(l.a)({},e),{},{error:t.error});case"App-reducer/searchIsFailed":return Object(l.a)(Object(l.a)({},e),{},{searchIsFailed:t.inputError});case"App-reducer/isLoading":return Object(l.a)(Object(l.a)({},e),{},{isLoading:t.isLoading});default:return e}}}),Q=Object(H.c)(J,Object(H.a)(z.a));a.a.render(Object(A.jsx)(o.a.StrictMode,{children:Object(A.jsx)(D.a,{children:Object(A.jsx)(I.a,{store:Q,children:Object(A.jsx)(M,{})})})}),document.getElementById("root")),q()}},[[69,1,2]]]);
//# sourceMappingURL=main.eb952af1.chunk.js.map