{"version":3,"sources":["components/ResultData/ResultData.module.css","components/SearchingPanel/SearchingPanel.module.css","components/App/App.module.css","components/CurrentBook/CurrentBook.module.css","DAL/api.ts","reducers/appReducer.ts","assets/imges/background.jpg","components/SearchingPanel/SearchingPanel.tsx","assets/imges/book.jpg","assets/imges/preloader.gif","assets/common/Preloader/Preloader.tsx","components/ResultData/ResultData.tsx","components/CurrentBook/CurrentBook.tsx","components/App/App.tsx","reportWebVitals.ts","store/store.ts","index.tsx"],"names":["module","exports","instance","axios","create","baseURL","apiKey","appAPI","name","index","get","select","initialState","items","kind","totalItems","searchTitle","error","searchIsFailed","isLoading","sortError","type","inputError","sortingByCategoriesBooksTC","dispatch","currentSelect","then","res","booksData","data","SearchingPanel","props","background","backgroundImage","backgroundImg","nameBook","setNameBook","setSelect","history","useHistory","useDispatch","sortErr","useSelector","state","app","inputErr","getBooks","title","getState","searchedTitle","length","catch","push","className","styles","container","style","inputButton","onChange","e","currentTarget","value","onKeyPress","event","key","onClick","selectors","sort","sortingByOrderBooksTC","onBlur","color","Preloader","src","preloader","alt","ResultData","arrBooks","totalCount","books","map","b","book","to","id","volumeInfo","imageLinks","smallThumbnail","bookImg","text","authors","categories","useEffect","main","buttonMore","addBooksByCategoriesTC","CurrentBook","bookId","useParams","currentBook","find","img","thumbnail","commonInformation","description","App","useState","exact","path","render","textAlign","fontSize","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","uniqueArr","copyState","resArr","filter","item","findIndex","x","console","log","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.eb952af1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ResultData_container__16BxN\",\"book\":\"ResultData_book__108_D\",\"buttonMore\":\"ResultData_buttonMore__2kpMW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SearchingPanel_container__1j8E-\",\"inputButton\":\"SearchingPanel_inputButton__2Kv-u\",\"selectors\":\"SearchingPanel_selectors__3QKTg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"App_main__2fbUn\",\"container\":\"App_container__2uMlN\",\"text\":\"App_text__2fQlz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CurrentBook_container__2awhx\",\"commonInformation\":\"CurrentBook_commonInformation__acRdy\"};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://www.googleapis.com/books/v1/volumes'\r\n})\r\n\r\nconst apiKey = 'AIzaSyBWuBhjJtUnVatCbFE2UubnjscgmoYY40U'\r\n\r\nexport const appAPI = {\r\n  getBooks(name: string, index: number) {\r\n    return instance\r\n      .get(`?q=${name}&${apiKey}&maxResults=30&startIndex=${index}`)\r\n  },\r\n  sortByOrderBooks(name: string, select: string, index: number = 0) {\r\n    return instance\r\n      .get(`?q=${name}&${select}&${apiKey}&maxResults=30&startIndex=${index}`)\r\n  },\r\n  sortByCategoriesBooks(select: string, index: number = 0) {\r\n    return instance\r\n      .get(`?q=subject:${select}&${apiKey}&maxResults=30&startIndex=${index}`)\r\n  },\r\n  getMoreBookByCategory(select: string, index: number) {\r\n    return instance\r\n      .get(`?q=subject:${select}&${apiKey}&maxResults=30&startIndex=${index}`)\r\n  }\r\n\r\n}\r\n\r\nexport type BooksType = {\r\n  kind: string\r\n  totalItems: number\r\n  items: Array<BookDataType>\r\n}\r\n\r\nexport type BookDataType = {\r\n  \"kind\": string\r\n  \"id\": string\r\n  \"etag\": string\r\n  \"selfLink\": string\r\n  \"volumeInfo\": {\r\n    \"title\": string\r\n    \"authors\": Array<string>,\r\n    \"publisher\": string\r\n    \"publishedDate\": string\r\n    \"description\": string\r\n    \"industryIdentifiers\": [\r\n      {\r\n        \"type\": string\r\n        \"identifier\": string\r\n      },\r\n      {\r\n        \"type\": string\r\n        \"identifier\": string\r\n      }\r\n    ],\r\n    \"readingModes\": {\r\n      \"text\": boolean\r\n      \"image\": boolean\r\n    },\r\n    \"pageCount\": number\r\n    \"printType\": string\r\n    \"categories\": Array<string>,\r\n    \"maturityRating\": string\r\n    \"allowAnonLogging\": boolean\r\n    \"contentVersion\": string\r\n    \"panelizationSummary\": {\r\n      \"containsEpubBubbles\": boolean\r\n      \"containsImageBubbles\": boolean\r\n    },\r\n    \"imageLinks\": {\r\n      \"smallThumbnail\": string\r\n      \"thumbnail\": string\r\n    },\r\n    \"language\": string\r\n    \"previewLink\": string\r\n    \"infoLink\": string\r\n    \"canonicalVolumeLink\": string\r\n  },\r\n  \"saleInfo\": {\r\n    \"country\": string\r\n    \"saleability\": string\r\n    \"isEbook\": boolean\r\n    \"listPrice\": {\r\n      \"amount\": number\r\n      \"currencyCode\": string\r\n    },\r\n    \"retailPrice\": {\r\n      \"amount\": number\r\n      \"currencyCode\": string\r\n    },\r\n    \"buyLink\": string\r\n    \"offers\": [\r\n      {\r\n        \"finskyOfferType\": number\r\n        \"listPrice\": {\r\n          \"amountInMicros\": number\r\n          \"currencyCode\": string\r\n        },\r\n        \"retailPrice\": {\r\n          \"amountInMicros\": number\r\n          \"currencyCode\": string\r\n        }\r\n      }\r\n    ]\r\n  },\r\n  \"accessInfo\": {\r\n    \"country\": string\r\n    \"viewability\": string\r\n    \"embeddable\": boolean\r\n    \"publicDomain\": boolean\r\n    \"textToSpeechPermission\": string\r\n    \"epub\": {\r\n      \"isAvailable\": boolean\r\n    },\r\n    \"pdf\": {\r\n      \"isAvailable\": boolean\r\n    },\r\n    \"webReaderLink\": string\r\n    \"accessViewStatus\": string\r\n    \"quoteSharingAllowed\": boolean\r\n  },\r\n  \"searchInfo\": {\r\n    \"textSnippet\": string\r\n  }\r\n}\r\n","import {appAPI, BookDataType, BooksType} from \"../DAL/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {AppRootStateType} from \"../store/store\";\r\n\r\nconst initialState = {\r\n  items: [],\r\n  kind: '',\r\n  totalItems: 0,\r\n  searchTitle: '',\r\n  error: false,\r\n  searchIsFailed: false,\r\n  isLoading: false\r\n} as BooksType & {\r\n  searchTitle: string, error: boolean,\r\n  isLoading: boolean, searchIsFailed: boolean\r\n}\r\n\r\n\r\nexport const appReducer = (state = initialState, action: ActionType) => {\r\n\r\n  const uniqueArr = (copyState: BooksType ) => {\r\n    const resArr: Array<BookDataType> = [];\r\n    copyState.items.filter(item => {\r\n      const i = resArr.findIndex(x => (x.id === item.id));\r\n      if (i <= -1) {\r\n        resArr.push(item);\r\n      }\r\n      return null;\r\n    })\r\n    return resArr\r\n  }\r\n\r\n  switch (action.type) {\r\n    case \"App-reducer/addBooks\": {\r\n      const copyState = {...state}\r\n      copyState.items = [...copyState.items, ...action.booksData]\r\n      copyState.items = uniqueArr(copyState)\r\n      copyState.totalItems = action.totalItems\r\n      console.log(copyState)\r\n      return copyState\r\n    }\r\n    case \"App-reducer/addBooksByCategories\": {\r\n      const copyState = {...state}\r\n      copyState.items = [...copyState.items, ...action.booksData]\r\n      copyState.items = uniqueArr(copyState)\r\n      copyState.totalItems = action.totalItems\r\n      return copyState\r\n    }\r\n    case \"App-reducer/searchBooks\": {\r\n      const copyState = {...state}\r\n      copyState.items = [...action.booksData]\r\n      copyState.items = uniqueArr(copyState)\r\n      copyState.totalItems = action.totalItems\r\n      copyState.searchTitle = action.searchTitle\r\n      return copyState\r\n    }\r\n    case \"App-reducer/sortingByOrderBooks\": {\r\n      const copyState = {...state}\r\n      copyState.items = [...action.booksData]\r\n      copyState.totalItems = action.totalItems\r\n      copyState.items = uniqueArr(copyState)\r\n      return copyState\r\n    }\r\n    case \"App-reducer/sortingByCategoriesBooks\": {\r\n      const copyState = {...state}\r\n      copyState.items = [...action.booksData]\r\n      copyState.totalItems = action.totalItems\r\n      copyState.items = uniqueArr(copyState)\r\n      return copyState\r\n    }\r\n    case \"App-reducer/sortError\": {\r\n      return {...state, error: action.error}\r\n    }\r\n    case \"App-reducer/searchIsFailed\": {\r\n      return {...state, searchIsFailed: action.inputError}\r\n    }\r\n    case \"App-reducer/isLoading\": {\r\n      return {...state, isLoading: action.isLoading}\r\n    }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const addBooks = (\r\n  booksData: Array<BookDataType>, totalItems: number) => ({\r\n  type: 'App-reducer/addBooks', booksData, totalItems\r\n}) as const\r\n\r\nexport const addBooksByCategories = (\r\n  booksData: Array<BookDataType>, totalItems: number) => ({\r\n  type: 'App-reducer/addBooksByCategories', booksData,\r\n  totalItems\r\n}) as const\r\n\r\nexport const searchBooks = (\r\n  booksData: Array<BookDataType>,\r\n  totalItems: number,\r\n  searchTitle: string\r\n) => ({\r\n  type: 'App-reducer/searchBooks', booksData, totalItems, searchTitle\r\n}) as const\r\n\r\nexport const sortingByOrderBooks = (\r\n  booksData: Array<BookDataType>, totalItems: number) => ({\r\n  type: 'App-reducer/sortingByOrderBooks',\r\n  booksData,\r\n  totalItems\r\n}) as const\r\n\r\nexport const sortingByCategoriesBooks = (\r\n  booksData: Array<BookDataType>, totalItems: number) => ({\r\n  type: 'App-reducer/sortingByCategoriesBooks',\r\n  booksData,\r\n  totalItems\r\n}) as const\r\n\r\nexport const sortError = (error: boolean) =>\r\n  ({type: 'App-reducer/sortError', error}) as const\r\n\r\nexport const searchIsFailed = (inputError: boolean) =>\r\n  ({type: 'App-reducer/searchIsFailed', inputError}) as const\r\n\r\nexport const isLoading = (isLoading: boolean) =>\r\n  ({type: 'App-reducer/isLoading', isLoading}) as const\r\n\r\n\r\nexport const addBooksTC = (title: string) => (\r\n  dispatch: Dispatch, getState: () => AppRootStateType) => {\r\n  const index = getState().app.items.length\r\n\r\n  appAPI.getBooks(title, index)\r\n    .then(res => {\r\n      dispatch(addBooks(res.data.items, res.data.totalItems))\r\n    })\r\n    .catch(() => {\r\n      dispatch(searchIsFailed(true))\r\n      dispatch(sortError(false))\r\n    })\r\n}\r\n\r\nexport const addBooksByCategoriesTC = (\r\n  select: string) => (dispatch: Dispatch, getState: () => AppRootStateType) => {\r\n  const index = getState().app.items.length\r\n  appAPI.getMoreBookByCategory(select, index)\r\n    .then(res => {\r\n      dispatch(addBooksByCategories(res.data.items, res.data.totalItems))\r\n    })\r\n  dispatch(sortError(false))\r\n  dispatch(searchIsFailed(false))\r\n}\r\n\r\nexport const searchBookTC = (title: string) => (\r\n  dispatch: Dispatch,\r\n  getState: () => AppRootStateType\r\n) => {\r\n  dispatch(isLoading(true))\r\n  const searchedTitle = getState().app.searchTitle\r\n  let index = getState().app.items.length\r\n\r\n  if (searchedTitle !== title) {\r\n    index = 0\r\n  }\r\n\r\n  appAPI.getBooks(title, index)\r\n    .then(res => {\r\n      dispatch(searchBooks(res.data.items, res.data.totalItems, title))\r\n      dispatch(sortError(false))\r\n      dispatch(isLoading(false))\r\n    })\r\n    .catch(() => {\r\n      dispatch(searchIsFailed(true))\r\n      dispatch(sortError(false))\r\n      dispatch(isLoading(false))\r\n    })\r\n}\r\n\r\nexport const sortingByOrderBooksTC = (\r\n  title: string, select: string) => (dispatch: Dispatch) => {\r\n  dispatch(isLoading(true))\r\n  let sort = ''\r\n  if (select === 'relevance') {\r\n    sort = '&orderBy=relevance'\r\n  }\r\n  if (select === 'newest') {\r\n    sort = '&orderBy=newest'\r\n  }\r\n\r\n  appAPI.sortByOrderBooks(title, sort)\r\n    .then(res => {\r\n      dispatch(sortingByOrderBooks(res.data.items, res.data.totalItems))\r\n      dispatch(sortError(false))\r\n      dispatch(isLoading(false))\r\n    })\r\n    .catch(() => {\r\n      dispatch(sortError(true))\r\n      dispatch(isLoading(false))\r\n    })\r\n  dispatch(searchIsFailed(false))\r\n}\r\nexport const sortingByCategoriesBooksTC = (\r\n  select: string) => (dispatch: Dispatch) => {\r\n  dispatch(isLoading(true))\r\n  let currentSelect = select\r\n\r\n  if (select === 'all') {\r\n    currentSelect = \"\"\r\n  }\r\n  appAPI.sortByCategoriesBooks(currentSelect)\r\n    .then(res => {\r\n      dispatch(sortingByCategoriesBooks(res.data.items, res.data.totalItems))\r\n      dispatch(isLoading(false))\r\n    })\r\n  dispatch(sortError(false))\r\n  dispatch(searchIsFailed(false))\r\n}\r\n\r\n\r\nexport type ActionType =\r\n  ReturnType<typeof addBooks>\r\n  | ReturnType<typeof searchBooks>\r\n  |\r\n  ReturnType<typeof sortingByOrderBooks>\r\n  | ReturnType<typeof sortingByCategoriesBooks>\r\n  |\r\n  ReturnType<typeof sortError>\r\n  | ReturnType<typeof addBooksByCategories>\r\n  | ReturnType<typeof isLoading>\r\n  | ReturnType<typeof searchIsFailed>\r\n","export default __webpack_public_path__ + \"static/media/background.118e95f4.jpg\";","import React, {ChangeEvent, KeyboardEvent} from \"react\";\r\nimport {\r\n  searchBookTC,\r\n  sortError,\r\n  sortingByCategoriesBooksTC,\r\n  sortingByOrderBooksTC\r\n} from \"../../reducers/appReducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport styles from \"./SearchingPanel.module.css\";\r\nimport backgroundImg from \"../../assets/imges/background.jpg\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\n\r\nexport type SearchingPanelType = {\r\n  nameBook: string\r\n  setNameBook: (title: string) => void\r\n  setSelect: (select: string) => void\r\n}\r\n\r\nexport const SearchingPanel: React.FC<SearchingPanelType> = (props) => {\r\n\r\n  const background = {\r\n    backgroundImage: `url(${backgroundImg})`,\r\n  };\r\n  const {nameBook, setNameBook, setSelect} = props\r\n\r\n  const history = useHistory();\r\n  const dispatch = useDispatch()\r\n  const sortErr = useSelector<AppRootStateType, boolean>(\r\n    (state) => state.app.error)\r\n  const inputErr = useSelector<AppRootStateType, boolean>(\r\n    (state) => state.app.searchIsFailed)\r\n\r\n  const getBooks = () => {\r\n    dispatch(searchBookTC(nameBook))\r\n    history.push('/books')\r\n  }\r\n\r\n  const onEnter = (event: KeyboardEvent<HTMLInputElement>) => {\r\n    if (event.key === 'Enter') {\r\n      getBooks()\r\n    }\r\n  }\r\n\r\n  const onChangeHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setNameBook(e.currentTarget.value)\r\n  }\r\n\r\n  const onSelectBlurHandler = () => {\r\n    dispatch(sortError(false))\r\n  }\r\n  const selectorByOrderHandler = (e: ChangeEvent<HTMLSelectElement>) => {\r\n    const select = e.currentTarget.value\r\n    dispatch(sortingByOrderBooksTC(nameBook, select))\r\n  }\r\n  const selectorByCategoriesHandler = (e: ChangeEvent<HTMLSelectElement>) => {\r\n    setNameBook('')\r\n    const select = e.currentTarget.value\r\n    setSelect(select)\r\n    dispatch(sortingByCategoriesBooksTC(select))\r\n  }\r\n\r\n  return (\r\n    <div className={styles.container} style={background}>\r\n      <h1>Search for books</h1>\r\n      <div className={styles.inputButton}>\r\n        <input\r\n          onChange={onChangeHandler}\r\n          value={nameBook}\r\n          onKeyPress={onEnter}\r\n          type=\"text\"\r\n        />\r\n        <button onClick={getBooks}>SEARCH</button>\r\n      </div>\r\n      <div>\r\n        <b>Categories</b>\r\n        <select onChange={selectorByCategoriesHandler} className={styles.selectors}>\r\n          <option value=\"all\">all</option>\r\n          <option value=\"art\">art</option>\r\n          <option value=\"biography\">biography</option>\r\n          <option value=\"computers\">computers</option>\r\n          <option value=\"history\">history</option>\r\n          <option value=\"medical\">medical</option>\r\n          <option value=\"poetry\">poetry</option>\r\n        </select>\r\n        <b>Sorting by</b>\r\n        <select onChange={selectorByOrderHandler} onBlur={onSelectBlurHandler}\r\n                className={styles.selectors}>\r\n          <option value=\"relevance\">relevance</option>\r\n          <option value=\"newest\">newest</option>\r\n        </select>\r\n        {sortErr && <div><b style={{color: \"red\"}}>PLEASE ENTER THE TITLE OF THE BOOK</b></div>}\r\n        {inputErr &&\r\n        <div><b style={{color: \"red\"}}>PLEASE ENTER THE CORRECT BOOK OR BOOK IS NOT FOUND</b></div>}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/book.2497b731.jpg\";","export default __webpack_public_path__ + \"static/media/preloader.b5920b96.gif\";","import preloader from \"../../../assets/imges/preloader.gif\";\r\nimport React from \"react\";\r\n\r\nexport function Preloader() {\r\n  return (\r\n    <div>\r\n      <img src={preloader} alt=\"\"/>\r\n    </div>\r\n  )\r\n}\r\n\r\n","import React, {useEffect} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport styles from \"./ResultData.module.css\";\r\nimport {BookDataType} from \"../../DAL/api\";\r\nimport bookImg from \"../../assets/imges/book.jpg\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {\r\n  addBooksByCategoriesTC,\r\n  addBooksTC,\r\n  sortingByCategoriesBooksTC\r\n} from \"../../reducers/appReducer\";\r\nimport {Preloader} from \"../../assets/common/Preloader/Preloader\";\r\n\r\nexport type ResultDataType = {\r\n  nameBook: string\r\n  select: string\r\n}\r\n\r\nexport const ResultData: React.FC<ResultDataType> = (props) => {\r\n  const {nameBook, select} = props\r\n\r\n  const arrBooks = useSelector<AppRootStateType, Array<BookDataType>>(\r\n    (state) => state.app.items)\r\n  const totalCount = useSelector<AppRootStateType, number>(\r\n    (state) => state.app.totalItems)\r\n  const isLoading = useSelector<AppRootStateType, boolean>(\r\n    (state) => state.app.isLoading)\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const onClickHandler = () => {\r\n    if (nameBook === '') {\r\n      dispatch(addBooksByCategoriesTC(select))\r\n    } else {\r\n      dispatch(addBooksTC(nameBook))\r\n    }\r\n  }\r\n\r\n  const books = arrBooks.map(b => {\r\n    return <div className={styles.book} key={b.id}>\r\n      <NavLink to={`/books/${b.id}`}>\r\n        <img\r\n          src={b.volumeInfo.imageLinks ? b.volumeInfo.imageLinks.smallThumbnail : bookImg}\r\n          alt=\"img\"/>\r\n      </NavLink>\r\n\r\n      <div className={styles.text}>\r\n        <div>{b.volumeInfo.title?\r\n          <div><b>Title: </b>{b.volumeInfo.title}</div> : ''}\r\n        </div>\r\n        <div>{b.volumeInfo.authors?\r\n          <div><b>Authors: </b>{b.volumeInfo.authors}</div> : ''}\r\n        </div>\r\n        <div>\r\n          {b.volumeInfo.categories?\r\n            <div><b>Categories: </b>{b.volumeInfo.categories[0]}</div> : ''}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  })\r\n\r\n  useEffect(() => {\r\n    dispatch(sortingByCategoriesBooksTC('all'))\r\n  }, [dispatch])\r\n\r\n  if(isLoading) {\r\n    return <Preloader/>\r\n  }\r\n\r\n  return (\r\n    <div className={styles.main}>\r\n      {totalCount === 0 ? '' : `Found ${totalCount} results`}\r\n      <div className={styles.container}>{books}</div>\r\n\r\n      {\r\n        totalCount === 0\r\n        ? ''\r\n        : (\r\n          <button\r\n            className={styles.buttonMore}\r\n            onClick={onClickHandler}\r\n          >\r\n            load more\r\n          </button>\r\n        )\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport {useParams, Redirect} from \"react-router-dom\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {BookDataType} from \"../../DAL/api\";\r\nimport styles from \"./CurrentBook.module.css\";\r\nimport bookImg from \"../../assets/imges/book.jpg\";\r\n\r\nexport const CurrentBook = () => {\r\n    const {bookId} = useParams<{bookId: string}>()\r\n    const arrBooks = useSelector<AppRootStateType, Array<BookDataType>>(\r\n         (state) => state.app.items)\r\n\r\n    const currentBook = arrBooks.find(book => book.id === bookId)\r\n\r\n    const img = currentBook && currentBook.volumeInfo.imageLinks\r\n        ? currentBook.volumeInfo.imageLinks.thumbnail\r\n        : bookImg\r\n\r\n    if (currentBook) {\r\n        return (\r\n            <div className={styles.container}>\r\n                <img src={img} alt=\"\"/>\r\n                <div className={styles.commonInformation}>\r\n                    <div>\r\n                        <b>Title: </b>{currentBook.volumeInfo.title?currentBook.volumeInfo.title:''}\r\n                    </div>\r\n                    <div>\r\n                        <b>All categories: </b>{currentBook.volumeInfo.categories?currentBook.volumeInfo.categories:''}\r\n                    </div>\r\n                    <div>\r\n                        <b>Authors: </b>{currentBook.volumeInfo.authors?currentBook.volumeInfo.authors:''}\r\n                    </div>\r\n                    <div>\r\n                        <b>Descriptions: </b>{currentBook.volumeInfo.description?currentBook.volumeInfo.description:''}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n    return <Redirect to={'*'}/>\r\n}\r\n","import React, {useState} from 'react';\nimport '../../App.css';\nimport {SearchingPanel} from \"../SearchingPanel/SearchingPanel\";\nimport {ResultData} from \"../ResultData/ResultData\";\nimport styles from \"./App.module.css\"\nimport {Route, Switch, Redirect} from \"react-router-dom\";\nimport {CurrentBook} from \"../CurrentBook/CurrentBook\";\n\nfunction App() {\n  const [nameBook, setNameBook] = useState<string>('')\n  const [select, setSelect] = useState<string>('')\n\n  return (\n    <div className={styles.main}>\n      <div className={styles.container}>\n        <SearchingPanel\n          nameBook={nameBook}\n          setNameBook={setNameBook}\n          setSelect={setSelect}\n        />\n        <Switch>\n          <Route\n            exact\n            path={'/'}\n            render={() => <Redirect to={\"/books\"}/>}\n          />\n          <Route\n            exact\n            path={'/searchBooks'}\n            render={() => <Redirect to={\"/books\"}/>}\n          />\n          <Route\n            exact\n            path={'/books'}\n            render={() => <ResultData select={select} nameBook={nameBook}/>}\n          />\n          <Route\n            exact\n            path={'/books/:bookId'}\n            render={() => <CurrentBook/>}\n          />\n          <Route\n            exact\n            path={'*'}\n            render={() => <div style={{textAlign: 'center', fontSize: '80px'}}>\n              404: PAGE IS NOT FOUND\n            </div>}\n          />\n        </Switch>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport {appReducer} from \"../reducers/appReducer\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst rootReducer = combineReducers({\r\n    app: appReducer\r\n})\r\nexport const store = createStore(rootReducer, applyMiddleware(thunk));\r\nexport type AppRootStateType = ReturnType<typeof rootReducer>;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from \"react-redux\";\nimport {store} from \"./store/store\";\nimport {BrowserRouter} from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n      <BrowserRouter>\n      <Provider store={store}>\n          <App />\n      </Provider>\n      </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your App, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}